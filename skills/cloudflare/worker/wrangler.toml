name = "vibes-registry"
main = "src/index.ts"
compatibility_date = "2025-02-04"
compatibility_flags = ["nodejs_compat"]

# KV namespace for registry storage
[[kv_namespaces]]
binding = "REGISTRY_KV"
id = "f9ab5bd5c9a34b16bfa42731e38c7bff"
preview_id = "0cde71d973844bca842d365797b7d43e"

# Static assets (the generated index.html)
[assets]
directory = "./public"

[vars]
# Default reserved subdomains
RESERVED_SUBDOMAINS = "admin,api,www,billing"
# Billing mode: "required" enforces subscription check on /claim
BILLING_MODE = "required"
# Admin IDs (comma-separated) for admin bypass on subscription gate
ADMIN_USER_IDS = ""

# Secrets (set via `wrangler secret put`):
# - CLERK_PEM_PUBLIC_KEY
# - CLERK_WEBHOOK_SECRET
# - PERMITTED_ORIGINS
# - OPENROUTER_API_KEY (optional, for AI features)
