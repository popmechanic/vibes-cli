name = "vibes-registry"
main = "src/index.ts"
compatibility_date = "2025-02-04"
compatibility_flags = ["nodejs_compat"]

# KV namespace for registry storage
[[kv_namespaces]]
binding = "REGISTRY_KV"
id = "d6dc66d0615b4b88a07855d4e5a0f3d2"
preview_id = "0cde71d973844bca842d365797b7d43e"

# Static assets (the generated index.html)
[assets]
directory = "./public"

[vars]
# Default reserved subdomains
RESERVED_SUBDOMAINS = "admin,api,www,billing"
# Billing mode: "required" enforces subscription check on /claim
BILLING_MODE = "off"
# Admin IDs (comma-separated) for admin bypass on subscription gate
ADMIN_USER_IDS = ""
# Plan quotas: JSON map of plan slug to max subdomains (empty = unlimited)
PLAN_QUOTAS = ""

# Secrets (set via `wrangler secret put`):
# - CLERK_PEM_PUBLIC_KEY
# - CLERK_WEBHOOK_SECRET
# - PERMITTED_ORIGINS
# - OPENROUTER_API_KEY (optional, for AI features)
